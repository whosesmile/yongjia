/**
 * @license angular-bootstrap-datetimepicker  version: 0.3.13
 * Copyright 2013-2015 Knight Rider Consulting, Inc. http://www.knightrider.com
 * License: MIT
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["angular","moment"],e):"object"==typeof exports?module.exports=e(require("angular"),require("moment")):e(window.angular,window.moment)}(function(e,t){"use strict";e.module("ui.bootstrap.datetimepicker",[]).constant("dateTimePickerConfig",{dropdownSelector:null,minuteStep:5,minView:"minute",startView:"day"}).directive("datetimepicker",["$log","dateTimePickerConfig",function(n,a){function r(){var e=new Date,t=6e4*e.getTimezoneOffset();this.utcDateValue=e.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+t};var n=["utcDateValue","localDateValue","display","active","selectable","past","future"];for(var a in arguments[0])n.indexOf(a)<0||(this[a]=arguments[0][a])}var i=function(t){var a=["startView","minView","minuteStep","dropdownSelector"];for(var r in t)if(a.indexOf(r)<0)throw"invalid option: "+r;var i=["minute","hour","day","month","year"];if(i.indexOf(t.startView)<0)throw"invalid startView value: "+t.startView;if(i.indexOf(t.minView)<0)throw"invalid minView value: "+t.minView;if(i.indexOf(t.minView)>i.indexOf(t.startView))throw"startView must be greater than minView";if(!e.isNumber(t.minuteStep))throw"minuteStep must be numeric";if(t.minuteStep<=0||t.minuteStep>=60)throw"minuteStep must be greater than zero and less than 60";if(null!==t.dropdownSelector&&!e.isString(t.dropdownSelector))throw"dropdownSelector must be a string";null===t.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(n.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete t.dropdownSelector)};return{restrict:"E",require:"ngModel",template:'<div class="datetimepicker table-responsive"><table class="table table-striped  {{ data.currentView }}-view">   <thead>       <tr>           <th class="left" data-ng-click="changeView(data.currentView, data.leftDate, $event)" data-ng-show="data.leftDate.selectable"><i class="glyphicon glyphicon-arrow-left"/></th>           <th class="switch" colspan="5" data-ng-show="data.previousViewDate.selectable" data-ng-click="changeView(data.previousView, data.previousViewDate, $event)">{{ data.previousViewDate.display }}</th>           <th class="right" data-ng-click="changeView(data.currentView, data.rightDate, $event)" data-ng-show="data.rightDate.selectable"><i class="glyphicon glyphicon-arrow-right"/></th>       </tr>       <tr>           <th class="dow" data-ng-repeat="day in data.dayNames" >{{ day }}</th>       </tr>   </thead>   <tbody>       <tr data-ng-if="data.currentView !== \'day\'" >           <td colspan="7" >              <span    class="{{ data.currentView }}"                        data-ng-repeat="dateObject in data.dates"                         data-ng-class="{active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}"                        data-ng-click="changeView(data.nextView, dateObject, $event)">{{ dateObject.display }}</span>            </td>       </tr>       <tr data-ng-if="data.currentView === \'day\'" data-ng-repeat="week in data.weeks">           <td data-ng-repeat="dateObject in week.dates"                data-ng-click="changeView(data.nextView, dateObject, $event)"               class="day"                data-ng-class="{active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}" >{{ dateObject.display }}</td>       </tr>   </tbody></table></div>',scope:{onSetTime:"&",beforeRender:"&"},replace:!0,link:function(n,s,o,u){var c={};o.datetimepickerConfig&&(c=n.$parent.$eval(o.datetimepickerConfig));var d={};e.extend(d,a,c),i(d);var l=function(e){var n=10*parseInt(t.utc(e).year()/10,10);return t.utc(e).year(n).startOf("year")},f={year:function(e){for(var n=t.utc(e).startOf("year"),a=10*parseInt(n.year()/10,10),i=t.utc(l(e)).subtract(1,"year").startOf("year"),s=u.$modelValue?t(u.$modelValue).year():0,o={currentView:"year",nextView:"year"===d.minView?"setTime":"month",previousViewDate:new r({utcDateValue:null,display:a+"-"+(a+9)}),leftDate:new r({utcDateValue:t.utc(i).subtract(9,"year").valueOf()}),rightDate:new r({utcDateValue:t.utc(i).add(11,"year").valueOf()}),dates:[]},c=0;12>c;c+=1){var f=t.utc(i).add(c,"years"),h={utcDateValue:f.valueOf(),display:f.format("YYYY"),past:f.year()<a,future:f.year()>a+9,active:f.year()===s};o.dates.push(new r(h))}return o},month:function(e){for(var n=t.utc(e).startOf("year"),a=l(e),i=u.$modelValue?t(u.$modelValue).format("YYYY-MMM"):0,s={previousView:"year",currentView:"month",nextView:"month"===d.minView?"setTime":"day",previousViewDate:new r({utcDateValue:a.valueOf(),display:n.format("YYYY")}),leftDate:new r({utcDateValue:t.utc(n).subtract(1,"year").valueOf()}),rightDate:new r({utcDateValue:t.utc(n).add(1,"year").valueOf()}),dates:[]},o=0;12>o;o+=1){var c=t.utc(n).add(o,"months"),f={utcDateValue:c.valueOf(),display:c.format("MMM"),active:c.format("YYYY-MMM")===i};s.dates.push(new r(f))}return s},day:function(e){for(var n=t.utc(e),a=t.utc(n).startOf("month"),i=t.utc(n).startOf("year"),s=t.utc(n).endOf("month"),o=t.utc(a).subtract(Math.abs(a.weekday()),"days"),c=u.$modelValue?t(u.$modelValue).format("YYYY-MMM-DD"):"",l={previousView:"month",currentView:"day",nextView:"day"===d.minView?"setTime":"hour",previousViewDate:new r({utcDateValue:i.valueOf(),display:a.format("YYYY-MMM")}),leftDate:new r({utcDateValue:t.utc(a).subtract(1,"months").valueOf()}),rightDate:new r({utcDateValue:t.utc(a).add(1,"months").valueOf()}),dayNames:[],weeks:[]},f=0;7>f;f+=1)l.dayNames.push(t.utc().weekday(f).format("dd"));for(var h=0;6>h;h+=1){for(var m={dates:[]},_=0;7>_;_+=1){var p=t.utc(o).add(7*h+_,"days"),y={utcDateValue:p.valueOf(),display:p.format("D"),active:p.format("YYYY-MMM-DD")===c,past:p.isBefore(a),future:p.isAfter(s)};m.dates.push(new r(y))}l.weeks.push(m)}return l},hour:function(e){for(var n=t.utc(e).startOf("day"),a=t.utc(n).startOf("month"),i=u.$modelValue?t(u.$modelValue).format("YYYY-MM-DD H"):"",s={previousView:"day",currentView:"hour",nextView:"hour"===d.minView?"setTime":"minute",previousViewDate:new r({utcDateValue:a.valueOf(),display:n.format("ll")}),leftDate:new r({utcDateValue:t.utc(n).subtract(1,"days").valueOf()}),rightDate:new r({utcDateValue:t.utc(n).add(1,"days").valueOf()}),dates:[]},o=0;24>o;o+=1){var c=t.utc(n).add(o,"hours"),l={utcDateValue:c.valueOf(),display:c.format("LT"),active:c.format("YYYY-MM-DD H")===i};s.dates.push(new r(l))}return s},minute:function(e){for(var n=t.utc(e).startOf("hour"),a=t.utc(n).startOf("day"),i=u.$modelValue?t(u.$modelValue).format("YYYY-MM-DD H:mm"):"",s={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new r({utcDateValue:a.valueOf(),display:n.format("lll")}),leftDate:new r({utcDateValue:t.utc(n).subtract(1,"hours").valueOf()}),rightDate:new r({utcDateValue:t.utc(n).add(1,"hours").valueOf()}),dates:[]},o=60/d.minuteStep,c=0;o>c;c+=1){var l=t.utc(n).add(c*d.minuteStep,"minute"),f={utcDateValue:l.valueOf(),display:l.format("LT"),active:l.format("YYYY-MM-DD H:mm")===i};s.dates.push(new r(f))}return s},setTime:function(e){var t=new Date(e),a=new Date(t.getTime()+6e4*t.getTimezoneOffset()),r=u.$modelValue;return u.$setViewValue(a),d.dropdownSelector&&jQuery(d.dropdownSelector).dropdown("toggle"),$(document).triggerHandler("click"),n.onSetTime({newDate:a,oldDate:r}),f[d.startView](e)}},h=function(e){var n=e?t(e).toDate():new Date;return n.getTime()-6e4*n.getTimezoneOffset()};n.changeView=function(e,t,a){if(a&&(a.stopPropagation(),a.preventDefault()),e&&t.utcDateValue>-1/0&&t.selectable&&f[e]){var r=f[e](t.utcDateValue),i=[];if(r.weeks)for(var s=0;s<r.weeks.length;s+=1)for(var o=r.weeks[s],u=0;u<o.dates.length;u+=1){var c=o.dates[u];i.push(c)}n.beforeRender({$view:r.currentView,$dates:r.dates||i,$leftDate:r.leftDate,$upDate:r.previousViewDate,$rightDate:r.rightDate}),n.data=r}},u.$render=function(){n.changeView(d.startView,new r({utcDateValue:h(u.$viewValue)}))}}}}])});